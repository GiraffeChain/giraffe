syntax = "proto3";

package com.blockchain.models;

message BlockId {
    bytes bytes = 1;
}

message Block {
    BlockId parentHeaderId = 1;
    uint64 timestamp = 2;
    uint64 height = 3;
    bytes proof = 4;
    repeated TransactionId transactionIds = 7;
    TransactionOutput reward = 8;
}

message FullBlock {
    BlockId parentHeaderId = 1;
    uint64 timestamp = 2;
    uint64 height = 3;
    bytes proof = 4;
    repeated Transaction transactions = 7;
    TransactionOutput reward = 8;
}


message Transaction {
    repeated TransactionInput inputs = 1;
    repeated TransactionOutput outputs = 2;
    repeated RewardInput rewardInputs = 3;
}

message TransactionInput {
    TransactionOutputReference reference = 1;
    Challenge challenge = 2;
    repeated bytes challengeArguments = 3;
}

message TransactionOutput {
    Value value = 1;
    Account account = 2;
}

message RewardInput {
    BlockId blockId = 1;
}

message Value {

    oneof value {
        Coin coin = 1;
    }


    message Coin {
        string quantity = 1;
    }
}

message TransactionId {
    bytes bytes = 1;
}

message TransactionOutputReference {
    TransactionId transactionId = 1;
    uint32 index = 2;
}

message Account {
    bytes id = 1;
}

message Challenge {
    string script = 1;
}
